\hypertarget{Drv__Devices_8h}{}\section{Drv\+\_\+\+Devices.\+h File Reference}
\label{Drv__Devices_8h}\index{Drv\+\_\+\+Devices.\+h@{Drv\+\_\+\+Devices.\+h}}
{\ttfamily \#include \char`\"{}lpc\+\_\+types.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__Devices__Library_ga22f3cf4ef9dadad8d78d5c59999100b6}{L\+E\+D\+\_\+\+R\+\_\+\+P\+IN}~0
\item 
\#define \hyperlink{group__Devices__Library_ga5a11a7cbc215e25401541277460113a4}{L\+E\+D\+\_\+\+R\+\_\+\+P\+O\+RT}~1
\item 
\#define \hyperlink{group__Devices__Library_gaefaaa0f7c44f79a6150287630f9531d6}{L\+E\+D\+\_\+\+V\+\_\+\+P\+IN}~1
\item 
\#define \hyperlink{group__Devices__Library_gab09c8e054071dd324e1527eadec02adf}{L\+E\+D\+\_\+\+V\+\_\+\+P\+O\+RT}~1
\item 
\#define \hyperlink{group__Devices__Library_ga3ea9ecb7907af23b0d59637a7e778d47}{M\+S\+\_\+\+P\+IN}~27
\item 
\#define \hyperlink{group__Devices__Library_gaf98ad77692941c0b1abe1a1a399bceea}{M\+S\+\_\+\+P\+O\+RT}~1
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group__Devices__Library_gadde208bf0ea8bb35d8606d3859219a40}{delay\+Ms} (uint8\+\_\+t timer\+\_\+num, uint32\+\_\+t delay\+In\+Ms)
\begin{DoxyCompactList}\small\item\em Delay in milliseconds. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga120f8cfcae7121ef62deee0473cf19ee}{delay\+Us} (uint8\+\_\+t timer\+\_\+num, uint32\+\_\+t delay\+In\+Us)
\begin{DoxyCompactList}\small\item\em Delay in microseconds. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga42ce5be2b197d04b4b0a9918a11ea457}{Drv\+\_\+\+Devices\+\_\+activate\+All\+Channels\+To\+Test\+Condition} (uint8\+\_\+t test\+Input\+Code, uint8\+\_\+t amplitude\+Code, uint8\+\_\+t freq\+Code)
\begin{DoxyCompactList}\small\item\em Set test inputs to all channels. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gab949068810476a2e08078aa7eab15a83}{Drv\+\_\+\+Devices\+\_\+board\+Reset} (void)
\item 
void \hyperlink{group__Devices__Library_ga87716766599b761bde56572ccaac7946}{Drv\+\_\+\+Devices\+\_\+change\+Channel\+Lead\+Off\+Detect\+\_\+maintain\+Running\+State} (uint8\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Change lead off detect settings and re-\/start device. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gacf4dbff760e8426996f21c8a68d77cef}{Drv\+\_\+\+Devices\+\_\+change\+Channel\+State\+\_\+maintain\+Running\+State} (uint8\+\_\+t channel, uint8\+\_\+t start)
\begin{DoxyCompactList}\small\item\em Activate or De-\/activate channel maintaining running state. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga8092c357f91843e6fa9db02735addc7d}{Drv\+\_\+\+Devices\+\_\+event\+Serial} ()
\begin{DoxyCompactList}\small\item\em Function for receiving new commands. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_ga648ce331709a942df57efd5b8645db13}{Drv\+\_\+\+Devices\+\_\+get\+Channel\+Number} (uint8\+\_\+t n)
\begin{DoxyCompactList}\small\item\em Convert channel number from character to number. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gafb56f6b90c50e36cd6e34665d85fb903}{Drv\+\_\+\+Devices\+\_\+get\+Commands} (uint8\+\_\+t token)
\begin{DoxyCompactList}\small\item\em Function for interpreting commands. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_gaeab801d2d0a8823545cfde29704edc96}{Drv\+\_\+\+Devices\+\_\+get\+Is\+Master} ()
\begin{DoxyCompactList}\small\item\em Return the state of the is\+Master flag. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga65091ea2e7c2a0500683edf1bbc844ad}{Drv\+\_\+\+Devices\+\_\+get\+Is\+Running} ()
\begin{DoxyCompactList}\small\item\em Return the state of the is\+\_\+running flag. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga92e403bbfcda965385b78ce10bbea47a}{Drv\+\_\+\+Devices\+\_\+is\+Master} ()
\begin{DoxyCompactList}\small\item\em Determines if the board is Master or Slave and set a flag. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga1b75ac5dd3eb55ef54cff5de501875a9}{Drv\+\_\+\+Devices\+\_\+load\+Channel\+Settings} (uint8\+\_\+t parameter)
\begin{DoxyCompactList}\small\item\em Retrieve parameters and execute channel settings. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga91621cb0b85d8918aa835f198c827379}{Drv\+\_\+\+Devices\+\_\+load\+Lead\+Off\+Settings} (uint8\+\_\+t parameter)
\begin{DoxyCompactList}\small\item\em Retrieve parameters and execute channel settings. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga1a1a6145a5269b2a7ebd45abdb53b660}{Drv\+\_\+\+Devices\+\_\+print\+Default\+Channel\+Settings} ()
\begin{DoxyCompactList}\small\item\em Print the current Default Channel Settings. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gac177c9b23475b7551fbcebe3db410bf0}{Drv\+\_\+\+Devices\+\_\+print\+Menu} (void)
\begin{DoxyCompactList}\small\item\em Print menu. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gad85a26f63a893c55cdbbe5c4c0d0e69e}{Drv\+\_\+\+Devices\+\_\+print\+Register\+Name} (uint8\+\_\+t reg\+Number)
\begin{DoxyCompactList}\small\item\em To get and send by U\+A\+RT the name of a specific A\+D\+S1299 register. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gad214f99a7d211af8779b46b244f99d99}{Drv\+\_\+\+Devices\+\_\+print\+Registers} ()
\begin{DoxyCompactList}\small\item\em Print the current state of all A\+D\+S1299 registers. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga828212dc5604557924cd8ea9e6252c6c}{Drv\+\_\+\+Devices\+\_\+send\+Channel\+Data} ()
\begin{DoxyCompactList}\small\item\em Send via U\+A\+RT the data acquired by the A\+DS. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga26ea493ed59bae1e6a0c0af4ece44f40}{Drv\+\_\+\+Devices\+\_\+send\+E\+OT} ()
\begin{DoxyCompactList}\small\item\em Send characters to shake hands with the controlling program. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gaa48520ff061081dab8c49d26bf9404dd}{Drv\+\_\+\+Devices\+\_\+set\+Channels\+To\+Default\+Settings} ()
\begin{DoxyCompactList}\small\item\em Set all channels to the default settings. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga7a5e2ac941ca1d1f308f910539005d4b}{Drv\+\_\+\+Devices\+\_\+start\+As\+Slave} ()
\begin{DoxyCompactList}\small\item\em Start the system as Salve. Configure I/O pins. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga752ca1b164444c691ffe54ed89d848c8}{Drv\+\_\+\+Devices\+\_\+start\+Devices} ()
\begin{DoxyCompactList}\small\item\em Call init and start functions of the different peripherals of the uC. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga43e0b770fd7ccd57b3f0d5ddf0eda4be}{Drv\+\_\+\+Devices\+\_\+start\+From\+Scratch} ()
\begin{DoxyCompactList}\small\item\em Start the system from scratch, send initial message and get the board ready to get commands. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga7f4ddcd86724d8aad896ff12e43146ca}{Drv\+\_\+\+Devices\+\_\+start\+Running} (int O\+U\+T\+\_\+\+T\+Y\+PE)
\begin{DoxyCompactList}\small\item\em Start data acquisition. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga8584f49a773b7e9add0e51bb0057fb54}{Drv\+\_\+\+Devices\+\_\+stop\+Running} ()
\begin{DoxyCompactList}\small\item\em Stop data acquisition. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_ga2d56cab48a0548365790822b78afa02d}{Drv\+\_\+\+Devices\+\_\+update\+Frequency} (uint8\+\_\+t freq)
\begin{DoxyCompactList}\small\item\em Update sampling frequency. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gafd94e72e2e363f075a57a091e26424b2}{Drv\+\_\+\+Devices\+\_\+write\+Channel\+Settings\+\_\+maintain\+Running\+State} (uint8\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Stop acquisition, set the channels and re-\/start acquisition. \end{DoxyCompactList}\item 
void \hyperlink{group__Devices__Library_gab5e09814056d617c521549e542639b7e}{Sys\+Tick\+\_\+\+Handler} (void)
\begin{DoxyCompactList}\small\item\em Handle interrupt from Sys\+Tick timer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_gac064adc9b9dc0e68d43cf71bd52a0fdb}{channel\+Settings\+Counter}
\begin{DoxyCompactList}\small\item\em Counter used to retrieve channel settings from serial port. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_ga15bd8e07189205b21eb37b666895ee0e}{current\+Channel\+To\+Set}
\begin{DoxyCompactList}\small\item\em Keep track of what channel we are loading settings for. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga7ef266ee79910e6754e8783b550b4a0a}{get\+Channel\+Settings}
\begin{DoxyCompactList}\small\item\em Flag to indicate if channel settings commands are being received. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga774931d6c0caa199a9884bce2b300439}{get\+Lead\+Off\+Settings}
\begin{DoxyCompactList}\small\item\em Flag to indicate if lead off settings commands are being received. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga95cbd6b99430748422cc048b4f29dc52}{is\+\_\+running}
\begin{DoxyCompactList}\small\item\em Flag to indicate if the A\+D\+S1299 is acquiring data or not. \end{DoxyCompactList}\item 
bool \hyperlink{group__Devices__Library_ga6ceb9b5a0a67762763468c0ac71705fe}{is\+Master}
\begin{DoxyCompactList}\small\item\em Flag to indicate if the board is Master (H\+I\+GH state) or Slave (L\+OW state) \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_gacaa36aec7dee3c3535b27afc88dcfc9c}{lead\+Off\+Settings\+Counter}
\begin{DoxyCompactList}\small\item\em Counter used to retrieve lead off settings from serial port. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_ga2bc20b2f7f3efa988afcd5c19b3e2edf}{output\+Type}
\begin{DoxyCompactList}\small\item\em Mode of use\+: 8 or 16 channels. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_gac011c12f1d5ab04cb87b6edaec1d24ad}{plus\+Counter}
\begin{DoxyCompactList}\small\item\em Counter to have control of the received commands. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{group__Devices__Library_gae004df3f2b77e4d58eee171d2f76da40}{test\+Char}
\begin{DoxyCompactList}\small\item\em Auxiliary byte. \end{DoxyCompactList}\end{DoxyCompactItemize}
